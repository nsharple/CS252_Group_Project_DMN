<!doctype html>
<html lang="en">


<script>
	function includeHTML() {
		var elements, i, element, file, xhttp;

		// Loop through each HTML element in the file to be included
		elements = document.getElementsByTagName("*");
		for (i = 0; i < elements.length; i++) {
			element = elements[i];

			file = element.getAttribute("include-html");
			if (file) {

				// Make an HTTP request using the attribute as the file name
				xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4) {
						if (this.status == 200) {element.innerHTML = this.responseText;}
						if (this.status == 400) {element.innerHTML = "Page not found.";}
						// Remove the attribute and call this function again
						element.removeAttribute("include-html");
						includeHTML();
					}
				}

				xhttp.open("GET", file, true);
				xhttp.send();
				// Exit the function
				return;
			}

		}

	}


	function onSignIn(googleUser) {

		var authorize
		var onGoogleLoad = function() {
			gapi.load('auth2', function() {
				authorize = gapi.auth2.init({
					client_id: '16789477210-7hhak27tf126sdm84618trt2f5qlptip.apps.googleusercontent.com'
				}).then(function() {
					if (authorize.isSignedIn.get()) {

						// Useful data for client-side scripts:
						var profile = authorize.currentUser.get().getBasicProfile();
						console.log("ID: " + profile.getID());
						console.log('Full Name: ' + profile.getGivenName());
						console.log('Family Name: ' + profile.getFamilyName());
						console.log("Image URL: " + profile.getImageUrl());
						console.log("Email: " + profile.getEmail());

						// The ID token to pass to the backend:
						var id_token = googleUser.getAuthResponse().id_token;
						console.log("ID Token: " + id_token);
					}
					else {
						console.log("yoooo");
					}
				})
			})
		}
	}

</script>


<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Google Signin meta tags -->
	<meta name="google-signin-scope" content="profile email">
	<meta name="google-signin-client_id" content="16789477210-7hhak27tf126sdm84618trt2f5qlptip.apps.googleusercontent.com">
	<script src="https://apis.google.com/js/platform.js" async defer></script>


	<!-- Bootstrap stuff -->
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="css/styles.css">

    <title>RunRecordShare</title>
</head>


<body>

	<div include-html="navbar_include.html"></div>

	<div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>

	<script>
	includeHTML();
	</script>

<!--	<script>
		function onSignIn(googleUser) {

			// Useful data for client-side scripts:
			var profile = googleUser.getBasicProfile();
			console.log("ID: " + profile.getID());
			console.log('Full Name: ' + profile.getGivenName());
			console.log('Family Name: ' + profile.getFamilyName());
			console.log("Image URL: " + profile.getImageUrl());
			console.log("Email: " + profile.getEmail());

			// The ID token to pass to the backend:
			var id_token = googleUser.getAuthResponse().id_token;
			console.log("ID Token: " + id_token);
		}
	</script>
-->
</body>

</html>
